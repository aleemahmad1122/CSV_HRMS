<div class="d-flex flex-column-fluid px-3">
  <div class="card card-custom w-100 p-5">


    <form [formGroup]="addEditForm" class="form w-100" id="kt_form_1" (ngSubmit)="submitForm()">
      <div class="row">


        <div class="col-md-12 mb-3">
          <label class="form-label">{{'language.form.title' | translate}} <span class="text-danger">*</span></label>
          <input type="text" class="form-control" formControlName="title"
            [placeholder]="'language.placeholders.title' | translate"
            [ngClass]="{'is-invalid': (addEditForm.get('title')?.invalid && (addEditForm.get('title')?.touched || isSubmitted))}" />
          <div *ngIf="addEditForm.get('title')?.invalid && (addEditForm.get('title')?.touched || isSubmitted)"
            class="invalid-feedback">
            {{'language.errors.titleRequired' | translate}}
          </div>
        </div>




      </div>

      <div class="row">
        <div class="col-md-6 mb-3">
          <label class="form-label">{{ "language.generic.frequency" | translate }}
            <span class="text-danger">*</span></label>

          <ng-select [items]="typeList" [clearable]="false" [bindLabel]="'label'" [bindValue]="'value'"
            [searchable]="true" placeholder="Select an option" formControlName="frequency" [ngClass]="{
      'is-invalid':
              addEditForm.get('frequency')?.invalid &&
              (addEditForm.get('frequency')?.touched || isSubmitted)
      }">
          </ng-select>
          <div *ngIf="
              addEditForm.get('frequency')?.invalid &&
              (addEditForm.get('frequency')?.touched || isSubmitted)
            " class="invalid-feedback">
            {{ "language.errors.frequencyRequired" | translate }}
          </div>
        </div>
        <div class="col-md-6 mb-3">
          <label class="form-label">{{ "language.generic.type" | translate }}
            <span class="text-danger">*</span></label>

            <div class="radio-button-container pt-2">
              @for (item of frameworks; track $index) {
                <div class="radio-button">
                  <input
                  type="radio"
                  class="radio-button__input"
                  [id]="'framework-' + $index"
                  formControlName="type"
                  [value]="item">
                <label
                  class="radio-button__label"
                  [for]="'framework-' + $index">
                  <span class="radio-button__custom"></span>
                  {{ item }}
                </label>
                </div>
              }
            </div>

          <div *ngIf="
              addEditForm.get('type')?.invalid &&
              (addEditForm.get('type')?.touched || isSubmitted)
            " class="invalid-feedback">
            {{ "language.errors.typeRequired" | translate }}
          </div>
        </div>
      </div>

      <div class="row">

        <div class="col-md-12 mb-3">
          <label class="form-label">{{'language.form.description' | translate}} <span
              class="text-danger"></span></label>
          <textarea class="form-control" formControlName="description"
            [placeholder]="'language.placeholders.description' | translate"
            [ngClass]="{'is-invalid': (addEditForm.get('description')?.invalid && (addEditForm.get('description')?.touched || isSubmitted))}"></textarea>
          <div
            *ngIf="addEditForm.get('description')?.invalid && (addEditForm.get('description')?.touched || isSubmitted)"
            class="invalid-feedback">
            {{'language.errors.descriptionRequired' | translate}}
          </div>
        </div>
      </div>

      <div class="row mt-3">
        <div class="col-12 text-right">
          <button type="button" class="btn btn-light-danger font-weight-bold button-spacing mr-3" (click)="goBack()">
            {{ 'language.generic.back'| translate }}
          </button>
          <button type="submit" class="btn btn-primary font-weight-bold me-3" [disabled]="!this.addEditForm.valid">
            {{ 'language.generic.submit'| translate }}
          </button>
        </div>
      </div>
    </form>
  </div>
</div>
