<div class="d-flex flex-column-fluid px-3">
  <div class="card card-custom w-100 px-3" >
    <form [formGroup]="addEditForm" class="form w-100 py-5" id="kt_form_1" (ngSubmit)="submitForm()">
      <div class="row">
        <div class="col-md-12 mb-3">
          <label class="form-label">{{ "language.form.title" | translate }}
            <span class="text-danger">*</span></label>
          <input type="text" class="form-control" formControlName="name"
            [placeholder]="'language.placeholders.title' | translate" [ngClass]="{
              'is-invalid':
                addEditForm.get('name')?.invalid &&
                (addEditForm.get('name')?.touched || isSubmitted)
            }" />
          <div *ngIf="
              addEditForm.get('name')?.invalid &&
              (addEditForm.get('name')?.touched || isSubmitted)
            " class="invalid-feedback">
            {{ "language.errors.titleRequired" | translate }}
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6 mb-3">
          <label class="form-label">{{ "language.generic.startTime" | translate }}
            <span class="text-danger">*</span></label>

          <dp-date-picker class="form-control" [mode]="'time'" formControlName="startTime" placeholder="00:00"
            [config]="datePickerConfig" theme="dp-material" (change)="onDateTimeChange($event,'startTime')" [ngClass]="{
              'is-invalid':
                addEditForm.get('startTime')?.invalid &&
                (addEditForm.get('startTime')?.touched || isSubmitted)
            }"></dp-date-picker>

          <div *ngIf="
              addEditForm.get('startTime')?.invalid &&
              (addEditForm.get('startTime')?.touched || isSubmitted)
            " class="invalid-feedback">
            {{ "language.errors.startTimeequired" | translate }}
          </div>
        </div>
        <div class="col-md-6 mb-3">
          <label class="form-label">{{ "language.generic.endTime" | translate }}
            <span class="text-danger">*</span></label>
          <dp-date-picker class="form-control" [mode]="'time'" formControlName="endTime" placeholder="00:00"
            [config]="datePickerConfig" theme="dp-material" (change)="onDateTimeChange($event,'endTime')" [ngClass]="{
              'is-invalid':
                addEditForm.get('endTime')?.invalid &&
                (addEditForm.get('endTime')?.touched || isSubmitted)
            }"></dp-date-picker>
          <div *ngIf="
                 addEditForm.get('endTime')?.invalid &&
                 (addEditForm.get('endTime')?.touched || isSubmitted)
               " class="invalid-feedback">
            {{ "language.errors.endTimeequired" | translate }}
          </div>
        </div>
      </div>

      <div class="row">

        <div class="col-md-6 mb-3">
          <label class="form-label">{{ "language.generic.earlyMinutes" | translate }}
            <span class="text-danger">*</span></label>
          <select class="form-control custom-select" formControlName="earlyMinutes" [ngClass]="{
              'is-invalid':
                addEditForm.get('earlyMinutes')?.invalid &&
                (addEditForm.get('earlyMinutes')?.touched || isSubmitted)
            }">
            <option  value="5">5</option>
            <option  value="10">10</option>
            <option value="15">15</option>
            <option value="20">20</option>
            <option value="25">25</option>
            <option value="30">30</option>
          </select>
          <div *ngIf="
              addEditForm.get('earlyMinutes')?.invalid &&
              (addEditForm.get('earlyMinutes')?.touched || isSubmitted)
            " class="invalid-feedback">
            {{ "language.errors.earlyMinutesRequired" | translate }}
          </div>
        </div>

        <div class="col-md-6 mb-3">
          <label class="form-label">{{ "language.generic.graceMinutes" | translate }}
            <span class="text-danger">*</span></label>
          <select class="form-control custom-select" formControlName="graceMinutes" [ngClass]="{
              'is-invalid':
                addEditForm.get('graceMinutes')?.invalid &&
                (addEditForm.get('graceMinutes')?.touched || isSubmitted)
            }">
            <option  value="5">5</option>
            <option  value="10">10</option>
            <option value="15">15</option>
            <option value="20">20</option>
            <option value="25">25</option>
            <option value="30">30</option>
          </select>
          <div *ngIf="
              addEditForm.get('graceMinutes')?.invalid &&
              (addEditForm.get('graceMinutes')?.touched || isSubmitted)
            " class="invalid-feedback">
            {{ "language.errors.graceMinutesRequired" | translate }}
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-12 mb-3">
          <label class="form-label">{{ "language.form.description" | translate }}
            <span class="text-danger"></span></label>
          <textarea class="form-control" formControlName="description"
            [placeholder]="'language.placeholders.description' | translate" [ngClass]="{
              'is-invalid':
                addEditForm.get('description')?.invalid &&
                (addEditForm.get('description')?.touched || isSubmitted)
            }"></textarea>
          <div *ngIf="
              addEditForm.get('description')?.invalid &&
              (addEditForm.get('description')?.touched || isSubmitted)
            " class="invalid-feedback">
            {{ "language.errors.descriptionRequired" | translate }}
          </div>
        </div>
      </div>

      <div class="row mt-3">
        <div class="col-12 text-right">
          <button type="button" class="btn btn-light-danger font-weight-bold button-spacing mr-3" (click)="goBack()">
            {{ "language.generic.back" | translate }}
          </button>
          <button type="submit" class="btn btn-primary font-weight-bold me-3" [disabled]="!this.addEditForm.valid">
            {{ "language.generic.submit" | translate }}
          </button>
        </div>
      </div>
    </form>
  </div>
</div>
